{"ast":null,"code":"/**\n * Date: 2015-10-05\n * Author: Kasper Søfren <soefritz@gmail.com> (https://github.com/kafoso)\n *\n * A truncation feature, where the ellipsis will be placed in the dead-center of the URL.\n *\n * @param {String} url             A URL.\n * @param {Number} truncateLen     The maximum length of the truncated output URL string.\n * @param {String} ellipsisChars   The characters to place within the url, e.g. \"..\".\n * @return {String} The truncated URL.\n */\nexport function truncateMiddle(url, truncateLen, ellipsisChars) {\n  if (url.length <= truncateLen) {\n    return url;\n  }\n\n  var ellipsisLengthBeforeParsing;\n  var ellipsisLength;\n\n  if (ellipsisChars == null) {\n    ellipsisChars = '&hellip;';\n    ellipsisLengthBeforeParsing = 8;\n    ellipsisLength = 3;\n  } else {\n    ellipsisLengthBeforeParsing = ellipsisChars.length;\n    ellipsisLength = ellipsisChars.length;\n  }\n\n  var availableLength = truncateLen - ellipsisLength;\n  var end = \"\";\n\n  if (availableLength > 0) {\n    end = url.substr(-1 * Math.floor(availableLength / 2));\n  }\n\n  return (url.substr(0, Math.ceil(availableLength / 2)) + ellipsisChars + end).substr(0, availableLength + ellipsisLengthBeforeParsing);\n}","map":{"version":3,"sources":["../src/truncate/truncate-middle.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;AAUG;AACH,OAAM,SAAU,cAAV,CAA0B,GAA1B,EAAuC,WAAvC,EAA4D,aAA5D,EAAkF;AACtF,MAAI,GAAG,CAAC,MAAJ,IAAc,WAAlB,EAA+B;AAC7B,WAAO,GAAP;AACD;;AAED,MAAI,2BAAJ;AACA,MAAI,cAAJ;;AAEA,MAAG,aAAa,IAAI,IAApB,EAA0B;AACxB,IAAA,aAAa,GAAG,UAAhB;AACA,IAAA,2BAA2B,GAAG,CAA9B;AACA,IAAA,cAAc,GAAG,CAAjB;AACD,GAJD,MAIO;AACL,IAAA,2BAA2B,GAAG,aAAa,CAAC,MAA5C;AACA,IAAA,cAAc,GAAG,aAAa,CAAC,MAA/B;AACD;;AAED,MAAI,eAAe,GAAG,WAAW,GAAG,cAApC;AACA,MAAI,GAAG,GAAG,EAAV;;AACA,MAAI,eAAe,GAAG,CAAtB,EAAyB;AACvB,IAAA,GAAG,GAAG,GAAG,CAAC,MAAJ,CAAY,CAAC,CAAF,GAAK,IAAI,CAAC,KAAL,CAAW,eAAe,GAAC,CAA3B,CAAhB,CAAN;AACD;;AACD,SAAO,CAAC,GAAG,CAAC,MAAJ,CAAW,CAAX,EAAc,IAAI,CAAC,IAAL,CAAU,eAAe,GAAC,CAA1B,CAAd,IAA8C,aAA9C,GAA8D,GAA/D,EAAoE,MAApE,CAA2E,CAA3E,EAA8E,eAAe,GAAG,2BAAhG,CAAP;AACD","sourcesContent":["/**\n * Date: 2015-10-05\n * Author: Kasper Søfren <soefritz@gmail.com> (https://github.com/kafoso)\n *\n * A truncation feature, where the ellipsis will be placed in the dead-center of the URL.\n *\n * @param {String} url             A URL.\n * @param {Number} truncateLen     The maximum length of the truncated output URL string.\n * @param {String} ellipsisChars   The characters to place within the url, e.g. \"..\".\n * @return {String} The truncated URL.\n */\nexport function truncateMiddle( url: string, truncateLen: number, ellipsisChars?: string ){\n  if (url.length <= truncateLen) {\n    return url;\n  }\n\n  let ellipsisLengthBeforeParsing: number;\n  let ellipsisLength: number;\n\n  if(ellipsisChars == null) {\n    ellipsisChars = '&hellip;';\n    ellipsisLengthBeforeParsing = 8;\n    ellipsisLength = 3;\n  } else {\n    ellipsisLengthBeforeParsing = ellipsisChars.length;\n    ellipsisLength = ellipsisChars.length;\n  }\n\n  let availableLength = truncateLen - ellipsisLength;\n  let end = \"\";\n  if (availableLength > 0) {\n    end = url.substr((-1)*Math.floor(availableLength/2));\n  }\n  return (url.substr(0, Math.ceil(availableLength/2)) + ellipsisChars + end).substr(0, availableLength + ellipsisLengthBeforeParsing);\n}\n"]},"metadata":{},"sourceType":"module"}